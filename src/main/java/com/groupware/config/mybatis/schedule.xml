<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

    <mapper namespace="com.groupware.schedule.dao.ScheduleDao">
	
	<insert id="addSchedule" parameterType="ScheduleDto">
	insert into BS_SCD_TB (BS_SCD_SQ, SCD_SQ, STF_SQ, BS_SCD_NM, BS_SCD_CNT, BS_SCD_STR_DT, BS_SCD_END_DT)
	values (BS_SCD_TB_BS_SCD_SQ.nextval, #{scd_sq}, #{stf_sq}, #{bs_scd_nm}, #{bs_scd_cnt}, 
				to_date(#{bs_scd_str_dt}, 'yyyy-mm-dd hh24:mi:ss'), to_date(#{bs_scd_end_dt}, 'yyyy-mm-dd hh24:mi:ss'))
	</insert>
	
	<select id="getScheduleList" parameterType="int" resultType="ScheduleDto">
	select * 
	from BS_SCD_TB
	where stf_sq= #{stf_sq}
	</select>
	
	<select id="getScheduleType" resultType="ScheduleDivisionDto">
	select *
	from SCD_DIV_TB
	order by scd_sq
	</select>
	
	<select id="getToday" resultType="String">
	select to_char(sysdate, 'yyyy-mm-dd') 
	from dual
	</select>
  
  </mapper>