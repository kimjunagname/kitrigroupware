<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
    <mapper namespace="com.groupware.member.dao.MemberDao">
    
    <select id="login" parameterType="map" resultType="MemberDto">
    SELECT *
	FROM stf_tb
	WHERE stf_sq = #{stf_sq} AND stf_pw = #{stf_pw}
    </select>	
    
    <insert id="registerMember" parameterType="MemberDto">
   	Insert into STF_TB (STF_SQ,ADMN_SQ,DPT_SQ,RNK_SQ,STF_NM,STF_PW,STF_PH1,STF_PH2,STF_PH3,STF_ZIP_ADD,STF_CM_ADD,STF_DT_ADD,STF_BS_PH1,STF_BS_PH2,STF_BS_PH3,STF_EML1,STF_EML2,STF_ENT,STF_REG,STF_MOD,STF_PT_RT,STF_PT_NM) 
	values (STF_TB_STF_SQ.nextval,1,#{dpt_sq},5,#{stf_nm},#{stf_pw},#{stf_ph1},#{stf_ph2},#{stf_ph3},#{stf_zip_add},#{stf_cm_add},#{stf_dt_add},#{stf_bs_ph1},#{stf_bs_ph2},#{stf_bs_ph3},#{stf_eml1},#{stf_eml2},#{stf_ent},sysdate,sysdate,#{stf_pt_rt, jdbcType=VARCHAR},#{stf_pt_nm, jdbcType=VARCHAR})
    </insert>
    
    <select id="findId" parameterType="map" resultType="MemberDto">
    SELECT *
	FROM stf_tb
	WHERE stf_eml1 = #{stf_eml1} and stf_eml2 = #{stf_eml2}
    </select>
    
    <select id="findPw" parameterType="map" resultType="MemberDto">
    SELECT *
	FROM stf_tb
	WHERE stf_eml1 = #{stf_eml1} and stf_eml2 = #{stf_eml2} and stf_sq = #{stf_sq}
    </select>	
    
    <select id="emlCheck" parameterType="map" resultType="int">
	SELECT count(*) cnt
	FROM stf_tb
	WHERE stf_eml1 = #{stf_eml1} and stf_eml2 = #{stf_eml2}
	</select> 
	
</mapper>